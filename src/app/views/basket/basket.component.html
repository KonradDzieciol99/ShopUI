<div class="card">
    <div class="row">
        <div class="col-md-8 cart">
            <div class="title">
                <div class="row">
                    <div class="col"><h4><b>Your basket</b></h4></div>
                </div>
            </div>    
            
            <div class="row border-top border-bottom">
     
                <div *ngIf="(basketService.basket$|async)?.basketItems?.length; else emptyItemsList" class="row main align-items-center">
                    
                    <div  *ngFor="let basketItem of (basketService.basket$|async)?.basketItems" class="row main align-items-center">
                      
                        <div class="col-2"><img [src]='basketItem.pictureUrl' class="img-fluid"></div>
                        
                        <div class="col">
                            <div class="row">{{basketItem.productName}}</div>
                        </div>
                    <div class="col">
                        <div class="col-xs-3">
                            <button class="btn-delateitem" (click)="decrementItemInBasket(basketItem)">-
                            </button>
                            
                            <a class="border">{{basketItem.quantity}}</a>
                    
                            <button class="btn-delateitem" (click)="incrementItemInBasket(basketItem)">+
                            </button>
                        </div>
                        
                    </div>
                        <div class="col">{{basketItem.price}} <span class="close">  Z≈Å</span></div>
                        <div class="col"><button class="btn-delateitem" (click)="removeBasketItem(basketItem)"><i class="fa-solid fa-x"></i></button></div>

                    </div>
                    
              
                </div>
                <ng-template #emptyItemsList>
                    Basket is empty
                </ng-template>
            </div>
            
            <div class="back-to-shop "><a class="text-muted" routerLink="/products-page">&leftarrow; Continue shopping</a></div>
        </div>


        <div class="col-md-4 summary">     
            <div *ngIf="(basketTotal$ | async)">
            <div><h5><b>Summary</b></h5></div>
            <hr>
            <div class="row">
                
                <div class="col" style="padding-left:0;">Items price</div>
                <div class="col text-right">{{(basketTotal$ | async)?.subtotal}}</div>
            </div>
            <div class="row">
                
                <div class="col" style="padding-left:0;">Delivery cost</div>
                <div class="col text-right">{{(basketTotal$ | async)?.shipping}}</div>
            </div>
            
            <div class="row" style="border-top: 1px solid rgba(0,0,0,.1); padding: 2vh 0;">
                <div class="col">Total amount</div>
                <div class="col text-right">{{(basketTotal$ | async)?.total}}</div>
            </div>
            <div>
            <a routerLink="/checkout-page" class="btn">Order</a>
        </div>
        </div>
        </div>


        
        
    </div>
    
</div>







