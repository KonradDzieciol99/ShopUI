<div class="container mt-5">
    <div class="row">
        <div class="col-8">
            <app-stepper [isLinear]="true" #appStepper>
                <cdk-step [label]="'Adres'" [completed]="addressForm.valid">
                    <app-stepper-address [addressForm]="addressForm"></app-stepper-address>
                </cdk-step>
                <cdk-step [label]="'Dostawa'" [completed]="deliveryForm.valid">
                   <app-stepper-delivery [appStepper]="appStepper" [deliveryForm]="deliveryForm"></app-stepper-delivery>
                </cdk-step>
                <cdk-step [label]="'Payment'">
                    <app-stepper-payment 
                    [addressForm]="addressForm"
                    [deliveryForm]="deliveryForm"
                    [paymentForm]="paymentForm"
                    >

                    </app-stepper-payment>
                </cdk-step> 
            </app-stepper>
        </div>


        <div class="col-md-4 summary">     
            <div *ngIf="(basketTotal$ | async)">
            <div><h5><b>Summary</b></h5></div>
            <hr>
            <div class="row">
                
                <div class="col" style="padding-left:0;">Items price</div>
                <div class="col text-right">{{(basketTotal$ | async)?.subtotal}}$</div>
            </div>
            <div class="row">
                
                <div class="col" style="padding-left:0;">Delivery price</div>
                <div class="col text-right">{{(basketTotal$ | async)?.shipping}}$</div>
            </div>
            
            <div class="row" style="border-top: 1px solid rgba(0,0,0,.1); padding: 2vh 0;">
                <div class="col">Total amount</div>
                <div class="col text-right">{{(basketTotal$ | async)?.total}}$</div>
            </div>
           
        </div>
        </div>
    </div>
</div>

